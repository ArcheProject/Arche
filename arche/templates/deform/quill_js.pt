<div tal:define="oid oid|field.oid;
                 name name|field.name;"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n"
    i18n:domain="Arche"
    tal:omit-tag="">

<div id="ql-editor-${oid}" tal:content="structure cstruct"/>
<textarea class="hidden arche-ql-storage" name="${name}" tal:content="structure cstruct"/>
<script>
(function($){
    createArcheQuill(
        '#ql-editor-${oid}',
        {
            modules: {
                toolbar: ${field.widget.toolbar_options_json}
            },
            // formats: ${field.widget.formats_json},
            theme: '${field.widget.theme}',
            placeholder: '${field.widget.placeholder}',
            readOnly: ${field.widget.readonly and "true" or "false"},
        },
    );
})(jQuery);
</script>
</div>
